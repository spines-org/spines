SUBDIRS=stdutil util daemon libspines testprogs controlprogs
INSTALLSUBDIRS=daemon libspines testprogs controlprogs util

all: $(SUBDIRS) 
	for dir in $(SUBDIRS); do \
		( $(MAKE) -C $$dir); \
	done

clean:
	for dir in $(SUBDIRS); do \
		( $(MAKE) -C $$dir clean); \
	done

	rm -f core
	rm -rf autom4te.cache

distclean: 
	for dir in $(SUBDIRS); do \
		( $(MAKE) -C $$dir distclean); \
	done
	rm -f config.cache config.log core
	rm -rf autom4te.cache
	rm -f Makefile config.h config.status *~

mrproper: distclean

veryclean: distclean
	rm -f configure

install: $(INSTALLSUBDIRS) 
	for dir in $(INSTALLSUBDIRS); do \
		( $(MAKE) -C $$dir install); \
	done

uninstallall:   uninstall
	for dir in $(INSTALLSUBDIRS); do \
		( $(MAKE) -C $$dir uninstallall); \
	done

uninstall: 
	for dir in $(INSTALLSUBDIRS); do \
		( $(MAKE) -C $$dir uninstall); \
	done
