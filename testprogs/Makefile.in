include ../Makefile.general

VPATH=@srcdir@
top_srcdir=@top_srcdir@

CPPFLAGS=-I../util -I$(top_srcdir) -I$(top_srcdir)/util -I$(top_srcdir)/libspines @CPPFLAGS@

TESTPROGS= sp_tflooder sp_uflooder sp_xcast sp_ping sping t_flooder u_flooder

all: $(TESTPROGS) 

sp_ping: sp_ping.o ../libspines/spines_lib.a
	$(CC) -o sp_ping sp_ping.o ../libspines/spines_lib.a $(LIBS)

sp_tflooder: sp_tflooder.o ../libspines/spines_lib.a
	$(CC) -o sp_tflooder sp_tflooder.o ../libspines/spines_lib.a  $(LIBS) 

sp_uflooder: sp_uflooder.o ../libspines/spines_lib.a
	$(CC) -o sp_uflooder sp_uflooder.o ../libspines/spines_lib.a $(LIBS)

sp_xcast: sp_xcast.o ../libspines/spines_lib.a
	$(CC) -o sp_xcast sp_xcast.o ../libspines/spines_lib.a $(LIBS)

sping: sping.o
	$(CC) -o sping sping.o $(LIBS)

t_flooder: t_flooder.o
	$(CC) -o t_flooder t_flooder.o  $(LIBS)

u_flooder: u_flooder.o
	$(CC) -o u_flooder u_flooder.o  $(LIBS)

clean:
	rm -f *~
	rm -f *.o
	rm -f *.to
	rm -f core

distclean: clean
	rm -f $(TESTPROGS)
	rm -f Makefile 

